// bullet-proofer vendor-prefix friendly LESS mixins
//
// LESS code by Zoltan Hawryluk (zoltan.dulac@gmail.com)
//
// Vendor Prefix Data compiled by Peter Beveloo (Twitter: @beverloo)
// available at:
// http://peter.sh/experiments/vendor-prefixed-css-properties-trident/
// http://peter.sh/experiments/vendor-prefixed-css-properties-gecko/
// http://peter.sh/experiments/vendor-prefixed-css-properties-webkit/
// http://peter.sh/experiments/vendor-prefixed-css-properties-blink/
// https://web.archive.org/web/20140612224154/http://peter.sh/experiments/vendor-prefixed-css-properties-presto/
//
// MIT license

@webkit-prefixed-props: 
  align-content,
  align-items,
  align-self,
  alt,
  animation,
  animation-delay,
  animation-direction,
  animation-duration,
  animation-fill-mode,
  animation-iteration-count,
  animation-name,
  animation-play-state,
  animation-timing-function,
  animation-trigger,
  app-region,
  appearance,
  aspect-ratio,
  backdrop-filter,
  backface-visibility,
  background-clip,
  background-composite,
  background-origin,
  background-size,
  border-after,
  border-after-color,
  border-after-style,
  border-after-width,
  border-before,
  border-before-color,
  border-before-style,
  border-before-width,
  border-bottom-left-radius,
  border-bottom-right-radius,
  border-end,
  border-end-color,
  border-end-style,
  border-end-width,
  border-fit,
  border-horizontal-spacing,
  border-image,
  border-radius,
  border-start,
  border-start-color,
  border-start-style,
  border-start-width,
  border-top-left-radius,
  border-top-right-radius,
  border-vertical-spacing,
  box-align,
  box-decoration-break,
  box-direction,
  box-flex,
  box-flex-group,
  box-lines,
  box-ordinal-group,
  box-orient,
  box-pack,
  box-reflect,
  box-shadow,
  box-sizing,
  clip-path,
  color-correction,
  column-axis,
  column-break-after,
  column-break-before,
  column-break-inside,
  column-count,
  column-fill,
  column-gap,
  column-progression,
  column-rule,
  column-rule-color,
  column-rule-style,
  column-rule-width,
  column-span,
  column-width,
  columns,
  cursor-visibility,
  dashboard-region,
  filter,
  flex,
  flex-basis,
  flex-direction,
  flex-flow,
  flex-grow,
  flex-shrink,
  flex-wrap,
  flow-from,
  flow-into,
  font-feature-settings,
  font-kerning,
  font-size-delta,
  font-smoothing,
  font-variant-ligatures,
  grid,
  grid-area,
  grid-auto-columns,
  grid-auto-flow,
  grid-auto-rows,
  grid-column,
  grid-column-end,
  grid-column-gap,
  grid-column-start,
  grid-gap,
  grid-row,
  grid-row-end,
  grid-row-gap,
  grid-row-start,
  grid-template,
  grid-template-areas,
  grid-template-columns,
  grid-template-rows,
  highlight,
  hyphenate-character,
  hyphenate-limit-after,
  hyphenate-limit-before,
  hyphenate-limit-lines,
  hyphens,
  initial-letter,
  justify-content,
  justify-items,
  justify-self,
  line-align,
  line-box-contain,
  line-break,
  line-clamp,
  line-grid,
  line-snap,
  locale,
  logical-height,
  logical-width,
  margin-after,
  margin-after-collapse,
  margin-before,
  margin-before-collapse,
  margin-bottom-collapse,
  margin-collapse,
  margin-end,
  margin-start,
  margin-top-collapse,
  marquee,
  marquee-direction,
  marquee-increment,
  marquee-repetition,
  marquee-speed,
  marquee-style,
  mask,
  mask-box-image,
  mask-box-image-outset,
  mask-box-image-repeat,
  mask-box-image-slice,
  mask-box-image-source,
  mask-box-image-width,
  mask-clip,
  mask-composite,
  mask-image,
  mask-origin,
  mask-position,
  mask-position-x,
  mask-position-y,
  mask-repeat,
  mask-repeat-x,
  mask-repeat-y,
  mask-size,
  mask-source-type,
  max-logical-height,
  max-logical-width,
  min-logical-height,
  min-logical-width,
  nbsp-mode,
  opacity,
  order,
  overflow-scrolling,
  padding-after,
  padding-before,
  padding-end,
  padding-start,
  perspective,
  perspective-origin,
  perspective-origin-x,
  perspective-origin-y,
  print-color-adjust,
  region-break-after,
  region-break-before,
  region-break-inside,
  region-fragment,
  rtl-ordering,
  ruby-position,
  scroll-snap-coordinate,
  scroll-snap-destination,
  scroll-snap-points-x,
  scroll-snap-points-y,
  scroll-snap-type,
  shape-image-threshold,
  shape-margin,
  shape-outside,
  svg-shadow,
  tap-highlight-color,
  text-align-last,
  text-combine,
  text-decoration,
  text-decoration-color,
  text-decoration-line,
  text-decoration-skip,
  text-decoration-style,
  text-decorations-in-effect,
  text-emphasis,
  text-emphasis-color,
  text-emphasis-position,
  text-emphasis-style,
  text-fill-color,
  text-justify,
  text-orientation,
  text-security,
  text-size-adjust,
  text-stroke,
  text-stroke-color,
  text-stroke-width,
  text-underline-position,
  text-zoom,
  touch-callout,
  transform,
  transform-origin,
  transform-origin-x,
  transform-origin-y,
  transform-origin-z,
  transform-style,
  transition,
  transition-delay,
  transition-duration,
  transition-property,
  transition-timing-function,
  user-drag,
  user-modify,
  user-select,
  writing-mode;

@moz-prefixed-props: 
  appearance,
  binding,
  border-bottom-colors,
  border-end,
  border-end-color,
  border-end-style,
  border-end-width,
  border-left-colors,
  border-right-colors,
  border-start,
  border-start-color,
  border-start-style,
  border-start-width,
  border-top-colors,
  box-align,
  box-direction,
  box-flex,
  box-ordinal-group,
  box-orient,
  box-pack,
  column-count,
  column-fill,
  column-gap,
  column-rule,
  column-rule-color,
  column-rule-style,
  column-rule-width,
  column-width,
  columns,
  control-character-visibility,
  float-edge,
  force-broken-image-icon,
  hyphens,
  image-region,
  margin-end,
  margin-start,
  math-display,
  math-variant,
  min-font-size-ratio,
  orient,
  osx-font-smoothing,
  outline-radius,
  outline-radius-bottomleft,
  outline-radius-bottomright,
  outline-radius-topleft,
  outline-radius-topright,
  padding-end,
  padding-start,
  script-level,
  script-min-size,
  script-size-multiplier,
  stack-sizing,
  tab-size,
  text-align-last,
  text-decoration-color,
  text-decoration-line,
  text-decoration-style,
  text-size-adjust,
  top-layer,
  transform,
  user-focus,
  user-input,
  user-modify,
  user-select,
  window-dragging,
  window-shadow;

@ms-prefixed-props: 
  accelerator,
  animation,
  animation-delay,
  animation-direction,
  animation-duration,
  animation-fill-mode,
  animation-iteration-count,
  animation-name,
  animation-play-state,
  animation-timing-function,
  backface-visibility,
  background-position-x,
  background-position-y,
  behavior,
  block-progression,
  content-zoom-chaining,
  content-zoom-limit,
  content-zoom-limit-max,
  content-zoom-limit-min,
  content-zoom-snap,
  content-zoom-snap-points,
  content-zoom-snap-type,
  content-zooming,
  filter,
  flex,
  flex-align,
  flex-direction,
  flex-flow,
  flex-item-align,
  flex-line-pack,
  flex-negative,
  flex-order,
  flex-pack,
  flex-positive,
  flex-preferred-size,
  flex-wrap,
  flow-from,
  flow-into,
  font-feature-settings,
  grid-column,
  grid-column-align,
  grid-column-span,
  grid-columns,
  grid-row,
  grid-row-align,
  grid-row-span,
  grid-rows,
  high-contrast-adjust,
  hyphenate-limit-chars,
  hyphenate-limit-lines,
  hyphenate-limit-zone,
  hyphens,
  ime-align,
  ime-mode,
  interpolation-mode,
  layout-flow,
  layout-grid,
  layout-grid-char,
  layout-grid-line,
  layout-grid-mode,
  layout-grid-type,
  line-break,
  overflow-style,
  overflow-x,
  overflow-y,
  perspective,
  perspective-origin,
  perspective-origin-x,
  perspective-origin-y,
  scroll-chaining,
  scroll-limit,
  scroll-limit-x-max,
  scroll-limit-x-min,
  scroll-limit-y-max,
  scroll-limit-y-min,
  scroll-rails,
  scroll-snap-points-x,
  scroll-snap-points-y,
  scroll-snap-type,
  scroll-snap-x,
  scroll-snap-y,
  scroll-translation,
  scrollbar-3dlight-color,
  scrollbar-arrow-color,
  scrollbar-base-color,
  scrollbar-darkshadow-color,
  scrollbar-face-color,
  scrollbar-highlight-color,
  scrollbar-shadow-color,
  scrollbar-track-color,
  text-align-last,
  text-autospace,
  text-combine-horizontal,
  text-justify,
  text-kashida-space,
  text-overflow,
  text-size-adjust,
  text-underline-position,
  touch-action,
  touch-select,
  transform,
  transform-origin,
  transform-origin-x,
  transform-origin-y,
  transform-origin-z,
  transform-style,
  transition,
  transition-delay,
  transition-duration,
  transition-property,
  transition-timing-function,
  user-select,
  word-break,
  word-wrap,
  wrap-flow,
  wrap-margin,
  wrap-through,
  writing-mode,
  zoom;

@o-prefixed-props:
  border-image,
  device-pixel-ratio,
  focus-opacity,
  link,
  link-source,
  mini-fold,
  object-fit,
  object-position,
  tab-size,
  table-baseline,
  transform,
  transform-origin,
  transition,
  transition-delay,
  transition-duration,
  transition-property,
  transition-timing-function;


@webkit-prefixed-regex: replace('@{webkit-prefixed-props}', ',\s*', '|', 'g');
@moz-prefixed-regex: replace('@{moz-prefixed-props}', ',\s*', '|', 'g');
@ms-prefixed-regex: replace('@{ms-prefixed-props}', ',\s*', '|', 'g');
@o-prefixed-regex: replace('@{o-prefixed-props}', ',\s*', '|', 'g');

// Transitions
.transition(@transition) {
  // We need to ensure that if we are using CSS transforms in the transition
  // that we replace 'transform' with '-webkit-transform' in the '-webkit-transition'
  // property.	If we don't do this, iOS will mess up.	This may be true with other
  // -webkit- prefixed properties.
  //
  // Note e() is needed to ensure the output is an unquoted string, since 
  // "@{transition}" is a quoted string

  -webkit-transition: e(replace("@{transition}", '(@{webkit-prefixed-regex})\s', '-webkit-$1 ', 'g'));
  -moz-transition: e(replace("@{transition}", '(@{moz-prefixed-regex})\s', '-moz-$1 ', 'g'));
  -o-transition: e(replace("@{transition}", '(@{o-prefixed-regex})\s', '-o-$1 ', 'g'));
  transition: e(@transition);
}

.transition-property(@transition-property) {
  -webkit-transition-property: e(replace("@{transition-property}", '(@{webkit-prefixed-regex})', '-webkit-$1 ', 'g'));
  -moz-transition-property: e(replace("@{transition-property}", '(@{moz-prefixed-regex})', '-moz-$1 ', 'g'));
  -o-transition-property: e(replace("@{transition-property}", '(@{o-prefixed-regex})', '-o-$1 ', 'g'));
  transition-property: e(@transition-property);
}

#test {
  .transition(~"transform 1s ease-in-out, transform-origin 1s linear, filter 1s linear");
}

#test2 {
  .transition-property("filter");

}
